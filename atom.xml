<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Anker`s Blog</title>
  
  <subtitle>十里平湖霜满天,寸寸青丝愁华年</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-06-28T02:22:54.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>AnkerLi</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>mysql问答</title>
    <link href="http://yoursite.com/2018/06/28/mysql%E9%97%AE%E7%AD%94/"/>
    <id>http://yoursite.com/2018/06/28/mysql问答/</id>
    <published>2018-06-28T02:12:46.000Z</published>
    <updated>2018-06-28T02:22:54.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><ol><li>mysql中emoji表情,不常用的汉子,任何新增的unicode怎么保存?<br>答: 选用utf8mb4编码(4字节宽字符)格式而不是用utf编码.</li><li></li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;mysql中emoji表情,不常用的汉子,任何新增的unicode怎么保存?&lt;br&gt;答: 选用utf8mb4编码(4字节宽字符)格式而不是用utf编码.&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

      
    
    </summary>
    
      <category term="mysql总结" scheme="http://yoursite.com/categories/mysql%E6%80%BB%E7%BB%93/"/>
    
    
  </entry>
  
  <entry>
    <title>phpstorm</title>
    <link href="http://yoursite.com/2018/06/27/phpstorm/"/>
    <id>http://yoursite.com/2018/06/27/phpstorm/</id>
    <published>2018-06-27T02:11:38.000Z</published>
    <updated>2018-06-30T04:23:31.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-目的"><a href="#1-目的" class="headerlink" title="1. 目的"></a>1. 目的</h3><p>记录和练习的目的,旨在提升工作效率,加快开发节奏与流畅度.</p><h3 id="2-常用快捷键"><a href="#2-常用快捷键" class="headerlink" title="2. 常用快捷键"></a>2. 常用快捷键</h3><p>编辑快捷键</p><blockquote><p>command + / : 添加代码注释//<br>command + alt + / : 添加代码注释/<em> </em>/<br>control + alt + i : 快速调整缩进<br>command + shift + v : 在剪切板选择粘贴<br>command + d : 复制当前行<br>command + delete : 删除当前行<br>control + shift + j : 把下一行缩上来变成一行<br>shift + enter/alt + command + enter : 快速向下/上折行<br>command + shift + u : 大小写快速切换<br>command + shift + [/] : 选项卡快速切换<br>command + +/- : 代码块展开/收缩<br>command + shift + f : find in path<br>command + f/r : find/replace<br>command + delete : delete one line<br>alt + / : 代码补全<br>command + , : open setting<br>command + j : live templates<br>control + `(反引号) : switcher1<br>control + tab : switch2</p></blockquote><p>导航快捷键:</p><blockquote><p>command + o : 快速查找类<br>command + shift + o : 快速查找文件名<br>alt + f7 : 找到继承该接口或者父级 的所有子类, 统计所有子类个数(find usage)<br>command + l : 定位行,跳转行<br>command + e : recent file<br>control + j : 获取函数或变量的相关信息<br>command + y : 浮窗显示变量或函数声明信息<br>f2/shift f2 : 切换到上一个/下一个错误位置<br>alt + command + &lt;-/-&gt; : 上部/下部文件操作处<br>f3/alt + f3 : 添加标签/带助记的标签<br>command + f3 : 打开书签列表</p></blockquote><p>搜索和替换:</p><blockquote><p>command + f : 当前文件搜索<br>command + shift + f : 按路径搜索</p></blockquote><blockquote><p>command + r : 当前文件替换<br>command + shift + r : 按路径替换</p></blockquote><blockquote><p>command + g : 下一个<br>command + shift + g : 下一个</p></blockquote><p>全局快捷键:</p><blockquote><p>双击shift : 全局查找搜索<br>command + 1,2,3,4,5 : 打开各种工具窗口</p></blockquote><h3 id="3-常用插件"><a href="#3-常用插件" class="headerlink" title="3. 常用插件"></a>3. 常用插件</h3><h4 id="live-edit-配合chrome-实现同步编辑-需要chrome安装JetBrains-IDE-Support插件"><a href="#live-edit-配合chrome-实现同步编辑-需要chrome安装JetBrains-IDE-Support插件" class="headerlink" title="live edit : 配合chrome,实现同步编辑(需要chrome安装JetBrains IDE Support插件)"></a><1>live edit : 配合chrome,实现同步编辑(需要chrome安装JetBrains IDE Support插件)</1></h4><h4 id="ideaVim-开启vim模式的编辑器-tools-gt-emulator-快捷键-alt-command-v"><a href="#ideaVim-开启vim模式的编辑器-tools-gt-emulator-快捷键-alt-command-v" class="headerlink" title="ideaVim : 开启vim模式的编辑器(tools-&gt;emulator),快捷键:alt+command+v"></a><2>ideaVim : 开启vim模式的编辑器(tools-&gt;emulator),快捷键:alt+command+v</2></h4><h4 id="plantuml-画图-other-setting中配置graphviz插件-http-www-graphviz-org-最好用命令安装brew-install-graphviz"><a href="#plantuml-画图-other-setting中配置graphviz插件-http-www-graphviz-org-最好用命令安装brew-install-graphviz" class="headerlink" title="plantuml : 画图(other setting中配置graphviz插件[http://www.graphviz.org/],最好用命令安装brew install graphviz)"></a><3>plantuml : 画图(other setting中配置graphviz插件[<a href="http://www.graphviz.org/],最好用命令安装brew" target="_blank" rel="noopener">http://www.graphviz.org/],最好用命令安装brew</a> install graphviz)</3></h4><p>for example:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@startuml</span><br><span class="line"></span><br><span class="line">digraph test &#123;</span><br><span class="line">    label = <span class="string">"测试一下下"</span></span><br><span class="line">    start [label=<span class="string">"开始游戏"</span> shape=circle style=filled]</span><br><span class="line">    ifwifi [label=<span class="string">"判断是否是wifi"</span> shape=diamond]</span><br><span class="line">    needupdate [label=<span class="string">"是否有资源需要更新"</span> shape=diamond]</span><br><span class="line">    startslientdl[label=<span class="string">"静默下载"</span> shape=box]</span><br><span class="line">    enterhall[label=<span class="string">"进入游戏大厅"</span> shape=box]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="string">' direction</span></span><br><span class="line"><span class="string">    start -&gt; ifwifi</span></span><br><span class="line"><span class="string">    ifwifi -&gt; needupdate[label="是"]</span></span><br><span class="line"><span class="string">    needupdate -&gt; startslientdl[label="是"]</span></span><br><span class="line"><span class="string">    startslientdl -&gt; enterhall</span></span><br><span class="line"><span class="string">    needupdate -&gt; enterhall[label="否"]</span></span><br><span class="line"><span class="string">    ifwifi -&gt; enterhall[label="否"]</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">@enduml</span></span><br></pre></td></tr></table></figure></p><p><img src="http://resource.cmdapps.com/uml.jpeg" style="width:300px;height:400px"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;1-目的&quot;&gt;&lt;a href=&quot;#1-目的&quot; class=&quot;headerlink&quot; title=&quot;1. 目的&quot;&gt;&lt;/a&gt;1. 目的&lt;/h3&gt;&lt;p&gt;记录和练习的目的,旨在提升工作效率,加快开发节奏与流畅度.&lt;/p&gt;
&lt;h3 id=&quot;2-常用快捷键&quot;&gt;&lt;a href=&quot;
      
    
    </summary>
    
      <category term="php总结" scheme="http://yoursite.com/categories/php%E6%80%BB%E7%BB%93/"/>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2018/06/27/hello-world/"/>
    <id>http://yoursite.com/2018/06/27/hello-world/</id>
    <published>2018-06-27T02:00:29.000Z</published>
    <updated>2018-06-27T02:00:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a><br><blockquote><p>文身断发</p><footer><strong>stormzhang</strong><cite><a href="https://blog.csdn.net/googdev/article/details/80765745" target="_blank" rel="noopener">blog.csdn.net/googdev/article/details/80765745</a></cite></footer></blockquote></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
      <category term="test" scheme="http://yoursite.com/categories/test/"/>
    
    
  </entry>
  
  <entry>
    <title>读别让别人抢走你的时间有感</title>
    <link href="http://yoursite.com/2018/06/23/%E8%AF%BB%E5%88%AB%E8%AE%A9%E5%88%AB%E4%BA%BA%E6%8A%A2%E8%B5%B0%E4%BD%A0%E7%9A%84%E6%97%B6%E9%97%B4%E6%9C%89%E6%84%9F/"/>
    <id>http://yoursite.com/2018/06/23/读别让别人抢走你的时间有感/</id>
    <published>2018-06-23T10:41:01.000Z</published>
    <updated>2018-06-27T02:00:29.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面:"></a>写在前面:</h3><p>由于手机套餐即将在本月到期,于是去附近营业厅办理,没想到周围的营业厅并不是很正规,都不给办理3元最低套餐,在这期间花费了大量时间,回来后非常懊恼,在用hexo建站过程中无意间发现了这篇文章,如获至宝,现把作者的精华总结于此.</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结:"></a>总结:</h3><blockquote><ol><li>你与同龄人之间的差距,之所以差距越来越大,就在于对时间的利用上;</li><li>钱能省就省,但前提是不占用我的时间,因为我的时间是很宝贵的;</li><li>不要让行动出卖你自认为时间不值钱的意识;</li><li>一定要有原则,有一必有二,有二必有三,违背原则的每一件小事都要坚决抵触;</li><li>穷人思维总想着花时间省钱,但是当你接触过一些成功人士之后,他们的富人思维永远是花钱省时间；</li><li>买东西不要冲着便宜、优惠而买，要冲着自己是否需要而买，不需要的东西，再便宜买了也无用，只会徒增累赘，自己需要的东西，应该果断立刻就买；</li><li>真正的自制力不是试图战胜自己的人性,而是远离这种挑战.</li></ol><footer><strong>stormzhang</strong><cite><a href="https://blog.csdn.net/googdev/article/details/80765745" target="_blank" rel="noopener"><<别让别人偷走你的时间>></别让别人偷走你的时间></a></cite></footer></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;写在前面&quot;&gt;&lt;a href=&quot;#写在前面&quot; class=&quot;headerlink&quot; title=&quot;写在前面:&quot;&gt;&lt;/a&gt;写在前面:&lt;/h3&gt;&lt;p&gt;由于手机套餐即将在本月到期,于是去附近营业厅办理,没想到周围的营业厅并不是很正规,都不给办理3元最低套餐,在这期间花费了
      
    
    </summary>
    
      <category term="人生经验" scheme="http://yoursite.com/categories/%E4%BA%BA%E7%94%9F%E7%BB%8F%E9%AA%8C/"/>
    
    
  </entry>
  
  <entry>
    <title>优雅的写php代码</title>
    <link href="http://yoursite.com/2018/06/22/%E4%BC%98%E9%9B%85%E7%9A%84%E5%86%99php%E4%BB%A3%E7%A0%81/"/>
    <id>http://yoursite.com/2018/06/22/优雅的写php代码/</id>
    <published>2018-06-21T16:42:38.000Z</published>
    <updated>2018-06-27T02:00:29.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-遍历数组获取新的数据结构"><a href="#1-遍历数组获取新的数据结构" class="headerlink" title="1. 遍历数组获取新的数据结构"></a>1. 遍历数组获取新的数据结构</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$arr = [</span><br><span class="line">    <span class="string">'test1'</span> =&gt; <span class="string">'John'</span>,</span><br><span class="line">    <span class="string">'test2'</span> =&gt; <span class="string">'Jerry'</span>,</span><br><span class="line">    <span class="string">'test3'</span> =&gt; <span class="string">'Marry'</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式一:传统方式(不推荐):增加内存开销</span></span><br><span class="line">$tmp = [];</span><br><span class="line"><span class="keyword">foreach</span>($arr <span class="keyword">as</span> $key =&gt; $val) &#123;</span><br><span class="line">    <span class="keyword">if</span> (in_array($val, [<span class="string">'John'</span>, <span class="string">'Jerry'</span>], <span class="keyword">true</span>)) &#123;</span><br><span class="line">        $val = <span class="string">'Anker'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    $tmp[$key] = $val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式二:</span></span><br><span class="line"><span class="keyword">foreach</span>($arr <span class="keyword">as</span> $key =&gt; $val) &#123;</span><br><span class="line">    <span class="keyword">if</span> ($val === <span class="string">'John'</span> || $val === <span class="string">'Jerry'</span>) &#123;</span><br><span class="line">        $arr[$key] = <span class="string">'Anker'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式三:引用(代码简洁,节省内存空间)</span></span><br><span class="line"><span class="keyword">foreach</span>($arr <span class="keyword">as</span> $key =&gt; &amp;$val) &#123;</span><br><span class="line">    <span class="keyword">if</span> (in_array($val, [<span class="string">'John'</span>, <span class="string">'Jerry'</span>], <span class="keyword">true</span>)) &#123;</span><br><span class="line">        $val = <span class="string">'Anker'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">unset</span>($val);</span><br></pre></td></tr></table></figure><h3 id="2-ajax返回错误状态使用try…catch…"><a href="#2-ajax返回错误状态使用try…catch…" class="headerlink" title="2.ajax返回错误状态使用try…catch…"></a>2.ajax返回错误状态使用try…catch…</h3><p>下面有段逻辑:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserModel</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span><span class="params">($username = <span class="string">''</span>, $password = <span class="string">''</span>)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        code...</span><br><span class="line">        <span class="keyword">if</span> (...) &#123;</span><br><span class="line">            <span class="comment">// 用户不存在</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        code...</span><br><span class="line">        <span class="keyword">if</span> (...) &#123;</span><br><span class="line">            <span class="comment">// 密码错误</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        code...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserController</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span><span class="params">($username = <span class="string">''</span>, $password = <span class="string">''</span>)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $model = <span class="keyword">new</span> UserModel();</span><br><span class="line">        $res   = $model-&gt;login($username, $password);</span><br><span class="line">        <span class="keyword">if</span> ($res === <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> [</span><br><span class="line">                <span class="string">'code'</span> =&gt; <span class="string">'404'</span>,</span><br><span class="line">                <span class="string">'message'</span> =&gt; <span class="string">'用户不存在'</span></span><br><span class="line">            ];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ($res === <span class="number">-2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> [</span><br><span class="line">                <span class="string">'code'</span> =&gt; <span class="string">'400'</span>,</span><br><span class="line">                <span class="string">'message'</span> =&gt; <span class="string">'密码错误'</span></span><br><span class="line">            ];</span><br><span class="line">        &#125;</span><br><span class="line">        code...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 使用try…catch…改写后:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserModel</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span><span class="params">($username = <span class="string">''</span>, $password = <span class="string">''</span>)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        code...</span><br><span class="line">        <span class="keyword">if</span> (...) &#123;</span><br><span class="line">            <span class="comment">// 用户不存在</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">'用户不存在'</span>, <span class="string">'404'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        code...</span><br><span class="line">        <span class="keyword">if</span> (...) &#123;</span><br><span class="line">            <span class="comment">// 密码错误</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">'密码错误'</span>, <span class="string">'400'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        code...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserController</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span><span class="params">($username = <span class="string">''</span>, $password = <span class="string">''</span>)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            $model = <span class="keyword">new</span> UserModel();</span><br><span class="line">            $res   = $model-&gt;login($username, $password);</span><br><span class="line">            <span class="comment">// 如果需要的话，我们可以在这里统一commit数据库事务</span></span><br><span class="line">            <span class="comment">// $db-&gt;commit();</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (<span class="keyword">Exception</span> $e) &#123;</span><br><span class="line">            <span class="comment">// 如果需要的话，我们可以在这里统一rollback数据库事务</span></span><br><span class="line">            <span class="comment">// $db-&gt;rollback();</span></span><br><span class="line">            <span class="keyword">return</span> [</span><br><span class="line">                <span class="string">'code'</span>    =&gt; $e-&gt;getCode(),</span><br><span class="line">                <span class="string">'message'</span> =&gt; $e-&gt;getMessage()</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;1-遍历数组获取新的数据结构&quot;&gt;&lt;a href=&quot;#1-遍历数组获取新的数据结构&quot; class=&quot;headerlink&quot; title=&quot;1. 遍历数组获取新的数据结构&quot;&gt;&lt;/a&gt;1. 遍历数组获取新的数据结构&lt;/h3&gt;&lt;figure class=&quot;highligh
      
    
    </summary>
    
      <category term="php总结" scheme="http://yoursite.com/categories/php%E6%80%BB%E7%BB%93/"/>
    
    
  </entry>
  
</feed>
